<div class="min-h-screen bg-gray-100 p-6">

  <div class="max-w-3xl mx-auto bg-white rounded-lg shadow-md p-6 mb-6">

    <h2 class="text-center text-xl font-bold mb-4">
      Jornada Laboral
    </h2>

    <div class="text-center text-5xl font-mono mb-4">
      {{ formattedElapsedTime }}
    </div>

    @if (isRunning()) {
      <button
        type="button"
        (click)="finishWorkShift()"
        class="w-full py-3 rounded-lg text-white font-semibold transition bg-red-600 hover:bg-red-700"
      >
        Finalizar jornada
      </button>
    }

  </div>

  <div class="max-w-3xl mx-auto bg-white rounded-lg shadow-md p-6">

    <h3 class="font-bold mb-3">Registro de jornada</h3>

    <div class="overflow-x-auto">
      <table class="min-w-full border border-gray-200">
        <thead class="bg-gray-200">
          <tr>
            <th class="p-2 border">Código</th>
            <th class="p-2 border">Nombre</th>
            <th class="p-2 border">Inicio</th>
            <th class="p-2 border">Fin</th>
            <th class="p-2 border">Tiempo total</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let shift of workShifts()">
            <td class="p-2 border">{{ shift.employee.code }}</td>
            <td class="p-2 border">{{ shift.employee.first_name }}</td>
            <td class="p-2 border">{{ shift.start_time | date:'shortTime' }}</td>
            <td class="p-2 border">{{ shift.end_time | date:'shortTime' }}</td>
            <td class="p-2 border">{{ shift.total_time }}</td>
          </tr>

          <tr *ngIf="workShifts().length === 0">
            <td colspan="5" class="p-4 text-center text-gray-500">
              No hay registros de jornada aún
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>

</div>
